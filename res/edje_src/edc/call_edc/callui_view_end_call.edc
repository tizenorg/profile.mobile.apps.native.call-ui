/*
 * Copyright (c) 2009-2015 Samsung Electronics Co., Ltd All Rights Reserved
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 */

styles {
	style {
		name: "call_timer_style";
		base: "font=Tizen:style=Regular align=left font_size=40 color=#FFFFFF ellipsis=1.0";
	}
	style {
		name: "call_name";
		base: "font=Tizen:style=Regular align=left font_size=56 color=#FFFFFF ellipsis=1.0";
	}
	style {
		name: "call_number";
		base: "font=Tizen:style=Regular align=left font_size=34 color=#FFFFFF ellipsis=1.0";
	}
	style {
		name: "button_style";
		base: "font=Tizen:style=Regular align=center font_size=34 color=#808080 ellipsis=1.0";
	}
	style {
		name: "button_style_pressed";
		base: "font=Tizen:style=Regular align=center font_size=34 color=#3DB9CC ellipsis=1.0";
	}
}

#define MAIN_WIDTH					MAIN_SCREEN_W
#define MAIN_HEIGHT					MAIN_SCREEN_H
#define MAIN_WIDTH_TWO				(MAIN_WIDTH/2)

#define EC_MAIN_TITLE_T_PAD			30
#define EC_MAIN_TITLE_H				54
#define EC_CONTACT_IMAGE_T_PAD		30
#define EC_CONTACT_IMAGE_SIZE		168
#define EC_BOTTOM_BTN_T_PAD			44
#define EC_BOTTOM_BTN_H				190
#define EC_MAIN_BG_H				(INDICATOR_HEIGHT+EC_MAIN_TITLE_T_PAD+EC_MAIN_TITLE_H+EC_CONTACT_IMAGE_T_PAD+EC_CONTACT_IMAGE_SIZE+EC_BOTTOM_BTN_T_PAD+EC_BOTTOM_BTN_H)

#define EC_MAIN_TITLE_R_PAD			32

#define EC_CONTACT_NAME_T_PAD		50
#define EC_CONTACT_NAME_H			76

#define EC_CONTACT_NUMBER_T_PAD		6
#define EC_CONTACT_NUMBER_H			46

#define EC_ADD_BTN_ICON_SIZE		80
#define EC_ADD_BTN_ICON_B_PAD		88
#define EC_ADD_BTN_SIZE				120
#define EC_ADD_BUTTON_R_PAD			20

#define EC_ADD_ICON_BTN_L_PAD		32
#define EC_ADD_ICON_BTN_R_PAD		17

#define EC_BOTTOM_BTN_ICON_SIZE		64
#define EC_BOTTOM_BTN_TEXT_W		132
#define EC_BOTTOM_BTN_ICON_T_PAD	36
#define EC_BOTTOM_BTN_ICON_L_PAD	((MAIN_WIDTH_TWO-EC_BOTTOM_BTN_ICON_SIZE)/2)
#define EC_BOTTOM_BTN_R_PAD			(EC_BOTTOM_BTN_R_PAD+EC_BOTTOM_BTN_ICON_SIZE)

#define EC_BOTTOM_BTN_TEXT_B_PAD	38
#define EC_BOTTOM_BTN_TEXT_R_PAD	((MAIN_WIDTH_TWO-EC_BOTTOM_BTN_TEXT_W)/2)
#define EC_BOTTOM_BTN_TEXT_L_PAD	(EC_BOTTOM_BTN_TEXT_R_PAD+EC_BOTTOM_BTN_TEXT_W)

#define EC_MAIN_TITLE_X0		((EC_MAIN_TITLE_R_PAD)/MAIN_WIDTH)
#define EC_MAIN_TITLE_Y0		((INDICATOR_HEIGHT+EC_MAIN_TITLE_T_PAD)/EC_MAIN_BG_H)
#define EC_MAIN_TITLE_Y1		((INDICATOR_HEIGHT+EC_MAIN_TITLE_H+EC_MAIN_TITLE_T_PAD)/EC_MAIN_BG_H)

#define EC_CONTACT_IMAGE_X0		(EC_MAIN_TITLE_R_PAD/MAIN_WIDTH)
#define EC_CONTACT_IMAGE_Y0		((INDICATOR_HEIGHT+EC_MAIN_TITLE_H+EC_MAIN_TITLE_T_PAD+EC_CONTACT_IMAGE_T_PAD)/EC_MAIN_BG_H)
#define EC_CONTACT_IMAGE_X1		((EC_MAIN_TITLE_R_PAD+EC_CONTACT_IMAGE_SIZE)/MAIN_WIDTH)
#define EC_CONTACT_IMAGE_Y1		((INDICATOR_HEIGHT+EC_MAIN_TITLE_H+EC_MAIN_TITLE_T_PAD+EC_CONTACT_IMAGE_T_PAD+EC_CONTACT_IMAGE_SIZE)/EC_MAIN_BG_H)

#define EC_RECT_BUTTON_X0		0.0
#define EC_RECT_BUTTON_Y0		((EC_MAIN_BG_H-EC_BOTTOM_BTN_H)/EC_MAIN_BG_H)

#define EC_CONTACT_NAME_X0		(EC_CONTACT_IMAGE_X1+(EC_MAIN_TITLE_R_PAD/MAIN_WIDTH))
#define EC_CONTACT_NAME_Y0		((INDICATOR_HEIGHT+EC_MAIN_TITLE_H+EC_MAIN_TITLE_T_PAD+EC_CONTACT_NAME_T_PAD)/EC_MAIN_BG_H)
#define EC_CONTACT_NAME_X1		((MAIN_WIDTH-EC_ADD_ICON_BTN_R_PAD-EC_ADD_BTN_ICON_SIZE-EC_ADD_ICON_BTN_L_PAD)/MAIN_WIDTH)
#define EC_CONTACT_NAME_Y1		((INDICATOR_HEIGHT+EC_MAIN_TITLE_H+EC_MAIN_TITLE_T_PAD+EC_CONTACT_NAME_T_PAD+EC_CONTACT_NAME_H)/EC_MAIN_BG_H)

#define EC_CONTACT_NUMBER_X0	(EC_CONTACT_IMAGE_X1+(EC_MAIN_TITLE_R_PAD/MAIN_WIDTH))
#define EC_CONTACT_NUMBER_Y0	((INDICATOR_HEIGHT+EC_MAIN_TITLE_H+EC_MAIN_TITLE_T_PAD+EC_CONTACT_NAME_T_PAD+EC_CONTACT_NAME_H+EC_CONTACT_NUMBER_T_PAD)/EC_MAIN_BG_H)
#define EC_CONTACT_NUMBER_X1	((MAIN_WIDTH-EC_ADD_ICON_BTN_R_PAD-EC_ADD_BTN_ICON_SIZE-EC_ADD_ICON_BTN_L_PAD)/MAIN_WIDTH)
#define EC_CONTACT_NUMBER_Y1	((INDICATOR_HEIGHT+EC_MAIN_TITLE_H+EC_MAIN_TITLE_T_PAD+EC_CONTACT_NAME_T_PAD+EC_CONTACT_NAME_H+EC_CONTACT_NUMBER_T_PAD+EC_CONTACT_NUMBER_H)/EC_MAIN_BG_H)

#define EC_CREATE_CONTACT_X0	((MAIN_WIDTH-EC_ADD_ICON_BTN_R_PAD-EC_ADD_BTN_ICON_SIZE)/MAIN_WIDTH)
#define EC_CREATE_CONTACT_Y0	((EC_MAIN_BG_H-EC_BOTTOM_BTN_H-EC_ADD_BTN_ICON_B_PAD-EC_ADD_BTN_ICON_SIZE)/EC_MAIN_BG_H)
#define EC_CREATE_CONTACT_X1	((MAIN_WIDTH-EC_ADD_ICON_BTN_R_PAD)/MAIN_WIDTH)
#define EC_CREATE_CONTACT_Y1	((EC_MAIN_BG_H-EC_BOTTOM_BTN_H-EC_ADD_BTN_ICON_B_PAD)/EC_MAIN_BG_H)

#define EC_BUTTON_ICON_X0		(EC_BOTTOM_BTN_ICON_L_PAD/MAIN_WIDTH_TWO)
#define EC_BUTTON_ICON_Y0		(EC_BOTTOM_BTN_ICON_T_PAD/EC_BOTTOM_BTN_H)
#define EC_BUTTON_ICON_X1		((EC_BOTTOM_BTN_ICON_L_PAD+EC_BOTTOM_BTN_ICON_SIZE)/MAIN_WIDTH_TWO)
#define EC_BUTTON_ICON_Y1		(EC_BOTTOM_BTN_ICON_T_PAD+EC_BOTTOM_BTN_ICON_SIZE)/EC_BOTTOM_BTN_H

#define EC_BUTTON_TEXT_X0		(EC_BOTTOM_BTN_TEXT_R_PAD/MAIN_WIDTH_TWO)
#define EC_BUTTON_TEXT_Y0		((EC_BOTTOM_BTN_ICON_T_PAD+EC_BOTTOM_BTN_ICON_SIZE)/EC_BOTTOM_BTN_H)
#define EC_BUTTON_TEXT_X1		(EC_BOTTOM_BTN_TEXT_L_PAD/MAIN_WIDTH_TWO)
#define EC_BUTTON_TEXT_Y1		((EC_BOTTOM_BTN_ICON_T_PAD+EC_BOTTOM_BTN_ICON_SIZE+EC_BOTTOM_BTN_TEXT_B_PAD)/EC_BOTTOM_BTN_H)

#define EC_ADD_BTN_ICON_X0		(EC_ADD_BUTTON_R_PAD/EC_ADD_BTN_SIZE)
#define EC_ADD_BTN_ICON_Y0		(EC_ADD_BUTTON_R_PAD/EC_ADD_BTN_SIZE)
#define EC_ADD_BTN_ICON_X1		((EC_ADD_BTN_ICON_SIZE + EC_ADD_BUTTON_R_PAD)/EC_ADD_BTN_SIZE)
#define EC_ADD_BTN_ICON_Y1		((EC_ADD_BTN_ICON_SIZE + EC_ADD_BUTTON_R_PAD)/EC_ADD_BTN_SIZE)

#define EC_MAIN_BG_Y1	(EC_MAIN_BG_H/MAIN_HEIGHT)

#define END_BOTTOM_BUTTON(style_name, img_path) \
group { \
	name: style_name; \
	parts { \
		part { name: "bg"; \
			type: RECT; \
			scale: 1; \
			description { \
				state: "default" 0.0; \
				color: 255 255 255 255; \
			} \
			description { \
				state: "pressed" 0.0; \
				color: 0 0 0 76; \
			} \
		} \
		part { name: "end_btn_text"; \
			type: TEXTBLOCK; \
			scale: 1; \
			description { \
				state: "default" 0.0; \
				rel1 { relative: EC_BUTTON_TEXT_X0 EC_BUTTON_TEXT_Y0; to: "bg";} \
				rel2 { relative: EC_BUTTON_TEXT_X1 EC_BUTTON_TEXT_Y1; to: "bg";} \
				text { \
					fit: 1 1; \
					style:"button_style"; \
				} \
			} \
			description { \
				state: "pressed" 0.0; \
				inherit: "default" 0.0; \
				text.style:"button_style_pressed"; \
			} \
		} \
		part { name: "end_btn_icon"; \
			type: IMAGE; \
			scale: 1; \
			description { \
				state: "default" 0.0; \
				rel1 { relative: EC_BUTTON_ICON_X0 EC_BUTTON_ICON_Y0; to: "bg";} \
				rel2 { relative: EC_BUTTON_ICON_X1 EC_BUTTON_ICON_Y1; to: "bg";} \
				image { \
					normal: img_path; \
				} \
				color_class: "AO009"; \
			} \
			description { \
				state: "pressed" 0.0; \
				inherit: "default" 0.0; \
				color_class: "AO001"; \
			} \
		} \
	} \
	programs { \
		program { \
			name: "pressed"; \
			signal: "mouse,down,*"; \
			source: "*"; \
			action: STATE_SET "pressed" 0.0; \
			target: "bg"; \
			target: "end_btn_icon"; \
			target: "end_btn_text"; \
		} \
		program { \
			name: "unpressed"; \
			signal: "mouse,up,*"; \
			source: "*"; \
			action: STATE_SET "default" 0.0; \
			target: "bg"; \
			target: "end_btn_icon"; \
			target: "end_btn_text"; \
		} \
	} \
} \

END_BOTTOM_BUTTON("call_back", IMG_SRC_DIR/"call_button_icon_03.png")
END_BOTTOM_BUTTON("message_button", IMG_SRC_DIR/"call_button_icon_04.png")

group {
	name: "create_contact_button";
	parts {
		part { name: "bg";
			type: RECT;
			scale: 1;
			description {
				state: "default" 0.0;
				color_class: "W0113";
			}
			description {
				state: "pressed" 0.0;
				inherit: "default" 0.0;
				color_class: "W0113P";
			}
		}

		part { name: "icon";
			type: IMAGE;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: EC_ADD_BTN_ICON_X0 EC_ADD_BTN_ICON_Y0; to: "bg";}
				rel2 { relative: EC_ADD_BTN_ICON_X1 EC_ADD_BTN_ICON_Y1; to: "bg";}
				image {
					normal: IMG_SRC_DIR/"call_button_add.png";
				}
				color: 255 255 255 255;
			}
		}
	}
	programs {
		program {
			name: "pressed";
			signal: "mouse,down,*";
			source: "*";
			action: STATE_SET "pressed" 0.0;
			target: "bg";
		}
		program {
			name: "unpressed";
			signal: "mouse,up,*";
			source: "*";
			action: STATE_SET "default" 0.0;
			target: "bg";
		}
	}
}

group {
	name: "main_end_call";
	parts {
		part { name: "background";
			type: IMAGE;
			description {
				state: "default" 0.0;
				image.normal: IMG_SRC_DIR/"background_dim.png";
			}
		}

		part { name: "contact_ly";
			type: RECT;
			description {
				state: "default" 0.0;
				color_class: "AO001";
				rel1 { relative: 0.0 0.0; to: "background"; }
				rel2 { relative: 1.0 EC_MAIN_BG_Y1; to: "background"; }
			}
			description {
				state: "show" 0.0;
				inherit: "default" 0.0;
				visible: 1;
			}
			description {
				state: "hide" 0.0;
				inherit: "default" 0.0;
				visible: 0;
			}
		}

		part { name: "caller_id";
			type: SWALLOW;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: EC_CONTACT_IMAGE_X0 EC_CONTACT_IMAGE_Y0; to: "contact_ly";}
				rel2 { relative: EC_CONTACT_IMAGE_X1 EC_CONTACT_IMAGE_Y1; to: "contact_ly";}
			}
			description {
				state: "show" 0.0;
				inherit: "default" 0.0;
				visible: 1;
			}
			description {
				state: "hide" 0.0;
				inherit: "default" 0.0;
				visible: 0;
			}
		}

		part {  name: "caller_id_mask";
			type: IMAGE;
			scale: 1;
			description {
				visible: 0;
				rel1 { relative: EC_CONTACT_IMAGE_X0 EC_CONTACT_IMAGE_Y0; to: "contact_ly";}
				rel2 { relative: EC_CONTACT_IMAGE_X1 EC_CONTACT_IMAGE_Y1; to: "contact_ly";}
				image {
					normal: IMG_SRC_DIR/"call_photo_id_mask.png";
				}
				aspect_preference: SOURCE;
			}
			description {
				state: "show" 0.0;
				inherit: "default" 0.0;
				visible: 1;
			}
			description {
				state: "hide" 0.0;
				inherit: "default" 0.0;
				visible: 0;
			}
		}

		part {  name: "caller_id_img";
			type: IMAGE;
			scale: 1;
			description {
				visible: 0;
				rel1 { relative: EC_CONTACT_IMAGE_X0 EC_CONTACT_IMAGE_Y0; to: "contact_ly";}
				rel2 { relative: EC_CONTACT_IMAGE_X1 EC_CONTACT_IMAGE_Y1; to: "contact_ly";}
				image {
					normal: IMG_SRC_DIR/"call_photo_id.png";
				}
				aspect_preference: SOURCE;
				color_class: "AO001";
			}
			description {
				state: "show" 0.0;
				inherit: "default" 0.0;
				visible: 1;
			}
			description {
				state: "hide" 0.0;
				inherit: "default" 0.0;
				visible: 0;
			}
		}

		part { name: "contact_name";
			type: TEXTBLOCK;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: EC_CONTACT_NAME_X0 EC_CONTACT_NAME_Y0; to: "contact_ly";}
				rel2 { relative: EC_CONTACT_NAME_X1 EC_CONTACT_NAME_Y1; to: "contact_ly";}
				text {
					ellipsis: 0.0;
					style:"call_name";
				}
			}
			description {
				state: "show" 0.0;
				inherit: "default" 0.0;
				visible: 1;
			}
			description {
				state: "hide" 0.0;
				inherit: "default" 0.0;
				visible: 0;
			}
		}

		part { name: "contact_number";
			type: TEXTBLOCK;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: EC_CONTACT_NUMBER_X0 EC_CONTACT_NUMBER_Y0; to: "contact_ly";}
				rel2 { relative: EC_CONTACT_NUMBER_X1 EC_CONTACT_NUMBER_Y1; to: "contact_ly";}
				text {
					ellipsis: 1.0;
					style:"call_number";
				}
			}
			description {
				state: "show" 0.0;
				inherit: "default" 0.0;
				visible: 1;
			}
			description {
				state: "hide" 0.0;
				inherit: "default" 0.0;
				visible: 0;
			}
		}

		part { name: "swallow.create_contact";
			type: SWALLOW;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: EC_CREATE_CONTACT_X0 EC_CREATE_CONTACT_Y0; to: "contact_ly";}
				rel2 { relative: EC_CREATE_CONTACT_X1 EC_CREATE_CONTACT_Y1; to: "contact_ly";}
			}
			description {
				state: "show" 0.0;
				inherit: "default" 0.0;
				visible: 1;
			}
			description {
				state: "hide" 0.0;
				inherit: "default" 0.0;
				visible: 0;
			}
		}

		part { name: "button_call_back";
			type: SWALLOW;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: 0.0 EC_RECT_BUTTON_Y0; to: "contact_ly";}
				rel2 { relative: 0.5 1.0; to: "contact_ly";}
			}
		}

		part { name: "button_message_back";
			type: SWALLOW;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: 0.5 EC_RECT_BUTTON_Y0; to: "contact_ly";}
				rel2 { relative: 1.0 1.0; to: "contact_ly";}
			}
		}
		part { name: "call_txt_status";
			type: TEXTBLOCK;
			scale: 1;
			description {
				state: "default" 0.0;
				rel1 { relative: EC_MAIN_TITLE_X0 EC_MAIN_TITLE_Y0; to: "contact_ly";}
				rel2 { relative: 1.0 EC_MAIN_TITLE_Y1; to: "contact_ly";}
				text.style:"call_timer_style";
			}
		}
	}
	programs{
		program {
			name: "show_image";
			signal: "show_image";
			source: "main_end_call";
			action: STATE_SET "show" 0.0;
			target: "caller_id_mask";
			target: "caller_id_img";
		}
		program {
			name: "hide_image";
			signal: "hide_image";
			source: "main_end_call";
			action: STATE_SET "hide" 0.0;
			target: "caller_id_mask";
			target: "caller_id_img";
		}
	}
}
